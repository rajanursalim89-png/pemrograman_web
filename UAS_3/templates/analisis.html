from flask import Flask, render_template

app = Flask(__name__)

@app.route('/analisis')
def analisis_parkir():
    # Simulasi pengambilan data dari database
    # Ganti angka di bawah ini dengan logika hitungan asli Anda
    pend_motor_harian = 2000 
    pend_mobil_harian = 5000
    
    # Objek data untuk analisis
    data = {
        "harian": {
            "motor": 1, "pend_motor": pend_motor_harian,
            "mobil": 1, "pend_mobil": pend_mobil_harian
        },
        # Mingguan tetap sama dengan harian
        "mingguan": {
            "motor": 1, "pend_motor": pend_motor_harian,
            "mobil": 1, "pend_mobil": pend_mobil_harian
        },
        # Bulanan = harian x 4
        "bulanan": {
            "motor": 4, "pend_motor": pend_motor_harian * 4,
            "mobil": 4, "pend_mobil": pend_mobil_harian * 4
        },
        # Tahunan = bulanan x 12
        "tahunan": {
            "motor": 48, "pend_motor": (pend_motor_harian * 4) * 12,
            "mobil": 48, "pend_mobil": (pend_mobil_harian * 4) * 12
        }
    }

    # PENTING: Sertakan 'motor' dan 'mobil' di sini agar tidak error
    return render_template('analisis.html', 
                           motor=pend_motor_harian, 
                           mobil=pend_mobil_harian, 
                           data=data)

if __name__ == '__main__':
    app.run(debug=True)